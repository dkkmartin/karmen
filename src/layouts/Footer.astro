---
import '../styles/global.css';
import { Image, Picture } from '@astrojs/image/components';
import logo from '../assets/karmen-logo.svg';
import menuBlue from '../assets/menu_blue.svg';
import Button from '../components/Button.astro';
---

<script src="../scripts/menu.js"></script>

<script>
  const listLink1 = document.querySelector('.footer__li__1');
  const listLink2 = document.querySelector('.footer__li__2');
  const listLink4 = document.querySelector('.footer__li__4');

  if (document.URL.includes('karmen/produkter')) {
    listLink2.classList.add('active__footer');
  } else if (document.URL.includes('karmen/produkt')) {
    listLink2.classList.add('active__footer');
  } else if (document.URL.includes('karmen/products')) {
    listLink2.classList.add('active__footer');
  } else if (document.URL.includes('karmen/kurv')) {
    listLink4.classList.add('active__footer');
  } else if (document.URL.includes('karmen/betaling')) {
    listLink4.classList.add('active__footer');
  } else if (document.URL.includes('karmen/tak')) {
    listLink4.classList.add('active__footer');
  } else {
    listLink1.classList.add('active__footer');
  }
</script>

<footer>
  <div class="sub__con">
    <h5>Tilmeld dig vores nyhedsbrev</h5>
    <div class="sub__btn__con">
      <i class="fa-solid fa-envelope" style="color: #92d5f6;"></i>
      <input type="email" placeholder="Din Email" />
      <Button class="sub__btn" title="Abonner" />
    </div>
  </div>
  <div class="footer__con">
    <a href="/karmen/">
      <Image src={logo} class="footer__logo" alt="Karmen logo" />
    </a>
    <Image class="menu__btn" format={'svg'} src={menuBlue} width={35} height={30} alt="Menu knap" />
    <ul>
      <li class="footer__li__1"><a href="/karmen/">Forside</a></li>
      <li class="footer__li__2"><a href="/karmen/produkter/">Produkter</a></li>
      <li class="footer__li__3"><a href="/karmen/">Mere info</a></li>
      <li class="footer__li__4">
        <a href="/karmen/kurv/"><i class="fa-solid fa-cart-plus"></i>Kurv</a>
      </li>
    </ul>
  </div>
</footer>

<style>
  .menu__btn {
    display: none;
  }

  footer {
    background-color: var(--primary-bg-color);
    max-width: 1440px;
    margin: 15em auto 0 auto;
    height: 389px;
    padding: 0 4em;
  }

  .sub__con {
    max-width: 770px;
    margin: 0 auto;
    position: relative;
    bottom: 7.5em;
  }

  .footer__con {
    display: grid;
    grid-template-columns: 1fr 3fr 1fr;
    align-items: center;
  }

  ul {
    display: flex;
    color: var(--secondary-font-blue);
    font-weight: 500;
    justify-self: center;
  }

  li {
    padding: 1.5em 2em;
  }

  .sub__btn__con {
    display: grid;
    grid-template-columns: 1fr 10fr 1fr;
    align-items: center;
    padding: 0.5em;
    gap: 1em;
    background-color: #fff;
    box-shadow: 0px 10px 40px rgba(0, 0, 0, 0.1);
    border-radius: 50px;
  }

  .fa-envelope {
    justify-self: end;
  }

  input {
    border: none;
    height: 50%;
    outline: none;
  }

  .sub__btn {
    font-weight: 400;
    width: 200px;
    height: 80px;
    font-size: 18px;
    transition: transform 0.5s;
    box-shadow: none;
  }

  .sub__btn:hover {
    transform: translateX(-12px) scale(1.2);
    box-shadow: none;
  }

  h5 {
    text-align: center;
    font-size: 24px;
    font-weight: 500;
  }

  .active__footer {
    background-color: var(--secondary-bg-color);
    box-shadow: 0px 15px 40px rgba(0, 0, 0, 0.2);
    border-radius: 5px;
    color: white;
  }

  @media only screen and (min-width: 768px) and (max-width: 1024px) {
    .footer__con {
      grid-template-columns: 1fr 3fr;
    }

    li {
      padding: 1.5em 0.5em;
    }
  }

  @media only screen and (max-width: 768px) {
    footer {
      margin: 2em 0 0 0;
      height: 150px;
      padding: 0 3em;
    }

    .menu__btn {
      display: block;
    }

    .footer__con {
      display: flex;
      justify-content: space-between;
      height: 100%;
    }

    .footer__logo {
      width: 40%;
    }

    .sub__con {
      display: none;
    }

    ul {
      display: none;
    }
  }
</style>
